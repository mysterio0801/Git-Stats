{"ast":null,"code":"var _jsxFileName = \"/home/vrishabh/Projects/git-stats-master/src/components/profile.js\";\nimport React, { useState, useEffect, Suspense } from 'react';\nimport axios from 'axios';\nimport ProfileOverview from './ProfileOverview';\nimport DayStats from './charts/DaysStats';\nimport Stats from './Stats';\nimport Activities from './Activities';\nimport Followers from './Followers';\nimport Following from './Following';\nimport Repositories from './Repositories';\nimport PuffLoader from 'react-spinners/PuffLoader';\nimport { css } from '@emotion/core';\nimport Footer from './SearchPage/SearchPageFooter';\nconst overHead = css`\n  height: 35vh;\n  display: block;\n  margin: 30vh auto 10vh auto;\n  grid-column: 1/4;\n`;\n\nfunction Profile(props) {\n  const [isActive, setIsActive] = useState({\n    activity: true,\n    follower: false,\n    following: false,\n    repos: false\n  });\n  const [loaded, setLoading] = useState(true);\n  const [lastDate, setLastDate] = useState('');\n  const [stats, setStats] = useState({\n    followers: 0,\n    following: 0,\n    repos: 0\n  });\n  const [profile, setProfile] = useState({\n    avatar_url: '',\n    bio: '',\n    company: '',\n    joinedOn: '',\n    name: '',\n    login: ''\n  });\n  const [events, setEvents] = useState({});\n  const [events1, setEvents1] = useState([]);\n\n  const getStats = async () => {\n    if (loaded === true) {\n      var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      axios.get('https://api.github.com/users/' + props.match.params.profile_id, {\n        headers: {\n          authorization: `token ${process.env.REACT_APP_API_KEY}`\n        }\n      }).then(res => {\n        var date = new Date(res.data.created_at);\n        setStats({\n          followers: res.data.followers,\n          following: res.data.following,\n          repos: res.data.public_repos\n        });\n        setProfile({\n          avatar_url: res.data.avatar_url,\n          bio: res.data.bio,\n          company: res.data.company,\n          joinedOn: date.getDate() + \" \" + months[date.getMonth()] + \" \" + date.getFullYear(),\n          name: res.data.name,\n          login: res.data.login\n        });\n        setLoading(true);\n      }).catch(err => {\n        console.log(err);\n        setLoading(true);\n      });\n      axios.get('https://api.github.com/users/' + props.match.params.profile_id + '/events?page=1&per_page=45', {\n        headers: {\n          authorization: `token ${process.env.REACT_APP_API_KEY}`\n        }\n      }).then(res => {\n        setEvents(res.data);\n      }).catch(err => {\n        console.log(err);\n      });\n      var pageNo = 1;\n      var ev = [];\n\n      while (pageNo) {\n        var res = await axios.get('https://api.github.com/users/' + props.match.params.profile_id + '/events?page=' + pageNo + '&per_page=100', {\n          headers: {\n            authorization: `\"token ${process.env.REACT_APP_KEY}\"`\n          }\n        });\n\n        if (pageNo < 3 && res.data.length > 0) {\n          res.data.forEach(res => {\n            ev.push(res);\n          });\n          pageNo++;\n        } else {\n          break;\n        }\n      }\n\n      setEvents1(ev);\n      var LastDate = new Date(ev[ev.length - 1].created_at);\n      LastDate = LastDate.toUTCString().slice(0, 16);\n      setLastDate(LastDate);\n      setLoading(false);\n    }\n\n    setEvents1(ev);\n    var LastDate = new Date(ev[ev.length - 1].created_at);\n    LastDate = LastDate.toUTCString().slice(0, 16);\n    setLastDate(LastDate);\n  };\n\n  useEffect(() => {\n    getStats();\n  }, []);\n\n  const getTabs = (status, userName, events) => {\n    if (status.follower && userName.length !== 0) {\n      return /*#__PURE__*/React.createElement(Followers, {\n        userName: userName,\n        stats: stats,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 9\n        }\n      });\n    } else if (status.following && userName.length !== 0) {\n      return /*#__PURE__*/React.createElement(Following, {\n        userName: userName,\n        stats: stats,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 9\n        }\n      });\n    } else if (status.repos && userName.length !== 0) {\n      return /*#__PURE__*/React.createElement(Repositories, {\n        userName: userName,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 9\n        }\n      });\n    } else if (status.activity && userName.length !== 0 && events.length !== 0) {\n      return /*#__PURE__*/React.createElement(Activities, {\n        events: events,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 9\n        }\n      });\n    }\n  };\n\n  const getProfile = () => {\n    if (profile.login.length !== 0) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ProfileOverview, {\n        profile: profile,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }\n      })));\n    }\n  };\n\n  const getDaysStats = events => {\n    if (events.length > 0) {\n      return /*#__PURE__*/React.createElement(DayStats, {\n        events: events,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 9\n        }\n      });\n    }\n  };\n\n  const getContent = (profile, events, events1, lastDate, loaded, isActive, stats, overHead) => {\n    if (loaded === false) {\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"header\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }\n      }, profile.avatar_url.length > 0 && getProfile(profile), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"headData\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }\n      }, events1.length > 0 && /*#__PURE__*/React.createElement(Stats, {\n        events: events1,\n        userName: profile,\n        stats: stats,\n        lastDate: lastDate,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 38\n        }\n      }))), /*#__PURE__*/React.createElement(\"main\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"day-stats\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 13\n        }\n      }, events1.length > 0 && getDaysStats(events1)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"a-stats\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"stats\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"button\", {\n        className: isActive.activity ? 'btn btn-primary btn-primary-left' : 'btn btn-primary-left',\n        onClick: () => {\n          setIsActive({\n            activity: true,\n            follower: false,\n            following: false,\n            repos: false\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 17\n        }\n      }, \"Activity\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: isActive.follower ? 'btn btn-primary btn-primary-middle' : 'btn btn-primary-middle',\n        onClick: () => {\n          setIsActive({\n            activity: false,\n            follower: true,\n            following: false,\n            repos: false\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 17\n        }\n      }, \"Followers\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: isActive.following ? 'btn btn-primary btn-primary-middle' : 'btn btn-primary-middle',\n        onClick: () => {\n          setIsActive({\n            activity: false,\n            follower: false,\n            following: true,\n            repos: false\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }\n      }, \"Following\"), /*#__PURE__*/React.createElement(\"button\", {\n        className: isActive.repos ? 'btn btn-primary btn-primary-right' : 'btn btn-primary-right',\n        onClick: () => {\n          setIsActive({\n            activity: false,\n            follower: false,\n            following: false,\n            repos: true\n          });\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }\n      }, \"Repositories\")), getTabs(isActive, profile.login, events))), /*#__PURE__*/React.createElement(Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 218,\n          columnNumber: 11\n        }\n      })));\n    } else {\n      return /*#__PURE__*/React.createElement(PuffLoader, {\n        color: \"#4A90E2\",\n        css: overHead,\n        loading: loaded,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 14\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, getContent(profile, events, events1, lastDate, loaded, isActive, stats, overHead));\n}\n\nexport default Profile;","map":{"version":3,"sources":["/home/vrishabh/Projects/git-stats-master/src/components/profile.js"],"names":["React","useState","useEffect","Suspense","axios","ProfileOverview","DayStats","Stats","Activities","Followers","Following","Repositories","PuffLoader","css","Footer","overHead","Profile","props","isActive","setIsActive","activity","follower","following","repos","loaded","setLoading","lastDate","setLastDate","stats","setStats","followers","profile","setProfile","avatar_url","bio","company","joinedOn","name","login","events","setEvents","events1","setEvents1","getStats","months","get","match","params","profile_id","headers","authorization","process","env","REACT_APP_API_KEY","then","res","date","Date","data","created_at","public_repos","getDate","getMonth","getFullYear","catch","err","console","log","pageNo","ev","REACT_APP_KEY","length","forEach","push","LastDate","toUTCString","slice","getTabs","status","userName","getProfile","getDaysStats","getContent"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Suspense } from 'react';\nimport axios from 'axios';\nimport ProfileOverview from './ProfileOverview';\nimport DayStats from './charts/DaysStats';\nimport Stats from './Stats';\nimport Activities from './Activities';\nimport Followers from './Followers';\nimport Following from './Following';\nimport Repositories from './Repositories';\nimport PuffLoader from 'react-spinners/PuffLoader';\nimport { css } from '@emotion/core';\nimport Footer from './SearchPage/SearchPageFooter';\n\nconst overHead = css`\n  height: 35vh;\n  display: block;\n  margin: 30vh auto 10vh auto;\n  grid-column: 1/4;\n`;\n\nfunction Profile(props) {\n\n  const [isActive, setIsActive] = useState({\n    activity: true,\n    follower: false,\n    following: false,\n    repos: false\n  });\n  const [loaded, setLoading] = useState(true);\n  const [lastDate, setLastDate] = useState('');\n  const [stats, setStats] = useState({\n    followers: 0,\n    following: 0,\n    repos: 0\n  });\n\n  const [profile, setProfile] = useState({\n    avatar_url: '',\n    bio: '',\n    company: '',\n    joinedOn: '',\n    name: '',\n    login: ''\n  });\n  const [events, setEvents] = useState({});\n  const [events1, setEvents1] = useState([]);\n\n  const getStats = async () => {\n    if (loaded === true) {\n      var months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n      axios.get('https://api.github.com/users/' + props.match.params.profile_id, {\n        headers: {\n          authorization: `token ${process.env.REACT_APP_API_KEY}`\n        }\n      })\n        .then(res => {\n          var date = new Date(res.data.created_at);\n          setStats({\n            followers: res.data.followers,\n            following: res.data.following,\n            repos: res.data.public_repos\n          });\n          setProfile({\n            avatar_url: res.data.avatar_url,\n            bio: res.data.bio,\n            company: res.data.company,\n            joinedOn: date.getDate() + \" \" + months[date.getMonth()] + \" \" + date.getFullYear(),\n            name: res.data.name,\n            login: res.data.login\n          });\n          setLoading(true);\n        })\n        .catch(err => {\n          console.log(err);\n          setLoading(true);\n        });\n      axios.get('https://api.github.com/users/' + props.match.params.profile_id + '/events?page=1&per_page=45', {\n        headers: {\n          authorization: `token ${process.env.REACT_APP_API_KEY}`\n        }\n      })\n        .then(res => {\n          setEvents(res.data);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n\n      var pageNo = 1;\n      var ev = [];\n      while (pageNo) {\n        var res = await axios.get('https://api.github.com/users/' + props.match.params.profile_id + '/events?page=' + pageNo + '&per_page=100', {\n          headers: {\n            authorization: `\"token ${process.env.REACT_APP_KEY}\"`\n          }\n        });\n        if (pageNo < 3 && res.data.length > 0) {\n          res.data.forEach(res => {\n            ev.push(res);\n          });\n          pageNo++;\n        }\n        else {\n          break;\n        }\n      }\n      setEvents1(ev);\n      var LastDate = new Date(ev[ev.length - 1].created_at);\n      LastDate = LastDate.toUTCString().slice(0, 16);\n      setLastDate(LastDate);\n      setLoading(false);\n    }\n    setEvents1(ev);\n    var LastDate = new Date(ev[ev.length - 1].created_at);\n    LastDate = LastDate.toUTCString().slice(0, 16);\n    setLastDate(LastDate);\n  }\n\n  useEffect(() => {\n    getStats();\n  }, []);\n\n  const getTabs = (status, userName, events) => {\n    if (status.follower && userName.length !== 0) {\n      return (\n        <Followers userName={userName} stats={stats} />\n      )\n    }\n    else if (status.following && userName.length !== 0) {\n      return (\n        <Following userName={userName} stats={stats} />\n      )\n    }\n    else if (status.repos && userName.length !== 0) {\n      return (\n        <Repositories userName={userName} />\n      )\n    }\n    else if (status.activity && userName.length !== 0 && events.length !== 0) {\n      return (\n        <Activities events={events} />\n      )\n    }\n  }\n\n  const getProfile = () => {\n    if (profile.login.length !== 0) {\n      return (\n        <><>\n          <ProfileOverview profile={profile} />\n        </></>\n      )\n    }\n  }\n\n  const getDaysStats = (events) => {\n    if (events.length > 0) {\n      return (\n        <DayStats events={events} />\n      )\n    }\n  }\n\n  const getContent = (profile, events, events1, lastDate, loaded, isActive, stats, overHead) => {\n    if (loaded === false) {\n      return (\n        <><>\n          <header>\n            {\n              profile.avatar_url.length > 0 && getProfile(profile)\n            }\n            <div className=\"headData\">\n              {events1.length > 0 && <Stats events={events1} userName={profile} stats={stats} lastDate={lastDate} />}\n            </div>\n          </header>\n          <main>\n            <div className=\"day-stats\">\n              {events1.length > 0 && getDaysStats(events1)}\n            </div>\n            <div className=\"a-stats\">\n              <div className=\"stats\">\n                <button className={isActive.activity ? 'btn btn-primary btn-primary-left' : 'btn btn-primary-left'} onClick={() => {\n                  setIsActive({\n                    activity: true,\n                    follower: false,\n                    following: false,\n                    repos: false\n                  })\n                }}>Activity</button>\n                <button className={isActive.follower ? 'btn btn-primary btn-primary-middle' : 'btn btn-primary-middle'} onClick={() => {\n                  setIsActive({\n                    activity: false,\n                    follower: true,\n                    following: false,\n                    repos: false\n                  })\n                }} >Followers</button>\n                <button className={isActive.following ? 'btn btn-primary btn-primary-middle' : 'btn btn-primary-middle'} onClick={() => {\n                  setIsActive({\n                    activity: false,\n                    follower: false,\n                    following: true,\n                    repos: false\n                  })\n                }}>Following</button>\n                <button className={isActive.repos ? 'btn btn-primary btn-primary-right' : 'btn btn-primary-right'} onClick={() => {\n                  setIsActive({\n                    activity: false,\n                    follower: false,\n                    following: false,\n                    repos: true\n                  })\n                }}>Repositories</button>\n              </div>\n              {getTabs(isActive, profile.login, events)}\n            </div>\n          </main>\n          <Footer />\n        </></>\n      )\n    }\n    else {\n      return <PuffLoader color=\"#4A90E2\" css={overHead} loading={loaded} />\n    }\n  }\n  return (\n    <>\n      {getContent(profile, events, events1, lastDate, loaded, isActive, stats, overHead)}\n    </>\n  )\n}\n\nexport default Profile"]},"metadata":{},"sourceType":"module"}