{"ast":null,"code":"var _jsxFileName = \"/home/vrishabh/Projects/git-stats-master/src/components/Contributions/commitList.js\";\nimport React, { useEffect, useState } from 'react';\nimport './Css/commitList.css';\nimport axios from 'axios';\nimport CommitYearList from './commitYearList';\n\nconst CommitList = props => {\n  const [commitdata, setCommitData] = useState([]);\n  const [isloading, setIsLoading] = useState(true);\n  useEffect(() => {\n    axios.get(`https://api.github.com/repos/${props.data.match.params.profile_id}/${props.data.match.params.repo_name}/commits?per_page=100`, {\n      headers: {\n        authorization: `token ${process.env.REACT_APP_API_KEY}`\n      }\n    }).then(res => {\n      setCommitData(() => {\n        return res.data.map(d => {\n          const c_date = new Date(d.commit.committer.date);\n          return {\n            month: c_date.getMonth(),\n            date: c_date.getDate(),\n            year: c_date.getFullYear()\n          };\n        });\n      });\n      setIsLoading(false);\n    }).catch(err => console.log(err));\n  }, []);\n  const crtd_date = new Date(props.data.location.state.created_at);\n  const s_date = new Date(crtd_date.getFullYear(), 0, 1);\n  const e_date = new Date();\n  const d_array = [];\n\n  for (let i = s_date.valueOf(); i <= e_date.valueOf(); i += 86400000) {\n    const c_date = new Date(i);\n    d_array.push({\n      id: c_date.valueOf(),\n      year: c_date.getFullYear(),\n      month: c_date.getMonth(),\n      date: c_date.getDate(),\n      commit: 0\n    });\n  }\n\n  const l1 = d_array.length;\n  const l2 = commitdata.length;\n\n  for (let j = 0; j < l2; j++) {\n    const c_data = commitdata[j];\n\n    for (let k = 0; k < l1; k++) {\n      const c_d_array = d_array[k];\n\n      if (c_data.date === c_d_array.date && c_d_array.month === c_data.month && c_data.year === c_d_array.year) {\n        c_d_array.commit += 1;\n      }\n    }\n  }\n\n  const y_array = [];\n\n  for (let l = crtd_date.getFullYear(); l <= 2020; l++) {\n    const t_year = d_array.filter(daydata => {\n      return daydata.year === l;\n    });\n\n    if (t_year.length != 0) {\n      y_array.push(t_year);\n    }\n  }\n\n  const y_components = y_array.map(yr => {\n    return /*#__PURE__*/React.createElement(CommitYearList, {\n      key: yr[0].id,\n      dydata: yr,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 16\n      }\n    });\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"heading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"u\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 37\n    }\n  }, \"Contributions\")), isloading ? /*#__PURE__*/React.createElement(\"p\", {\n    className: \"loading\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 26\n    }\n  }, \"data loading..\") : '', /*#__PURE__*/React.createElement(\"div\", {\n    className: \"commit-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, y_components));\n};\n\nexport default CommitList;","map":{"version":3,"sources":["/home/vrishabh/Projects/git-stats-master/src/components/Contributions/commitList.js"],"names":["React","useEffect","useState","axios","CommitYearList","CommitList","props","commitdata","setCommitData","isloading","setIsLoading","get","data","match","params","profile_id","repo_name","headers","authorization","process","env","REACT_APP_API_KEY","then","res","map","d","c_date","Date","commit","committer","date","month","getMonth","getDate","year","getFullYear","catch","err","console","log","crtd_date","location","state","created_at","s_date","e_date","d_array","i","valueOf","push","id","l1","length","l2","j","c_data","k","c_d_array","y_array","l","t_year","filter","daydata","y_components","yr"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './Css/commitList.css'\nimport axios from 'axios';\nimport CommitYearList from './commitYearList';\n\nconst CommitList = (props) => {\n    const [commitdata, setCommitData] = useState([]);\n    const [isloading, setIsLoading] = useState(true);\n    useEffect(() => {\n        axios.get(`https://api.github.com/repos/${props.data.match.params.profile_id}/${props.data.match.params.repo_name}/commits?per_page=100`, {\n            headers: {\n                authorization: `token ${process.env.REACT_APP_API_KEY}`\n            }\n        })\n            .then(res => {\n                setCommitData(() => {\n                    return res.data.map((d) => {\n                        const c_date = new Date(d.commit.committer.date);\n                        return {\n                            month: c_date.getMonth(),\n                            date: c_date.getDate(),\n                            year: c_date.getFullYear()\n                        };\n                    })\n                })\n                setIsLoading(false);\n            })\n            .catch(err => console.log(err));\n    }, [])\n\n    const crtd_date = new Date(props.data.location.state.created_at);\n    const s_date = new Date(crtd_date.getFullYear(), 0, 1);\n    const e_date = new Date();\n    const d_array = [];\n\n    for (let i = s_date.valueOf(); i <= e_date.valueOf(); i += 86400000) {\n        const c_date = new Date(i);\n        d_array.push({\n            id: c_date.valueOf(),\n            year: c_date.getFullYear(),\n            month: c_date.getMonth(),\n            date: c_date.getDate(),\n            commit: 0\n        });\n    }\n\n    const l1 = d_array.length;\n    const l2 = commitdata.length;\n    for (let j = 0; j < l2; j++) {\n        const c_data = commitdata[j];\n        for (let k = 0; k < l1; k++) {\n            const c_d_array = d_array[k];\n            if (c_data.date === c_d_array.date && c_d_array.month === c_data.month && c_data.year === c_d_array.year) {\n                c_d_array.commit += 1;\n            }\n        }\n    }\n\n    const y_array = [];\n\n    for (let l = crtd_date.getFullYear(); l <= 2020; l++) {\n        const t_year = d_array.filter((daydata) => {\n            return daydata.year === l;\n        })\n        if (t_year.length != 0) {\n            y_array.push(t_year);\n        }\n    }\n\n    const y_components = y_array.map((yr) => {\n        return <CommitYearList key={yr[0].id} dydata={yr} />\n    })\n\n\n    return (\n        <div>\n            <h1 className=\"heading\"><u>Contributions</u></h1>\n            {isloading ? <p className=\"loading\">data loading..</p> : ''}\n            <div className=\"commit-list\">\n                {y_components}\n            </div>\n        </div>\n\n    );\n}\n\nexport default CommitList;"]},"metadata":{},"sourceType":"module"}